---
phase: 04-seo-&-performans-optimizasyonu
plan: 02
type: execute
wave: 2
depends_on: ["04-01"]
files_modified:
  - src/app/page.tsx
  - src/app/hizmetler/google-isletme/page.tsx
  - src/app/hizmetler/seo/page.tsx
  - src/app/hizmetler/pmk/page.tsx
  - src/app/hizmetler/web-gelistirme/page.tsx
  - src/app/hizmetler/reklam/page.tsx
  - src/app/hizmetler/otomasyon/page.tsx
autonomous: true

must_haves:
  truths:
    - "Homepage has SEO title, description, and Open Graph tags"
    - "All 6 service pages have SEO metadata from SERVICE_METADATA constants"
    - "Meta descriptions are 150-160 characters for all pages"
    - "Open Graph tags include title, description, url, site_name for all pages"
  artifacts:
    - path: "src/app/page.tsx"
      provides: "Homepage metadata with generateMetadata"
      contains: "export async function generateMetadata"
    - path: "src/app/hizmetler/google-isletme/page.tsx"
      provides: "Google İşletme service page metadata"
      contains: "generateMetadata"
    - path: "src/app/hizmetler/seo/page.tsx"
      provides: "SEO service page metadata"
      contains: "generateMetadata"
    - path: "src/app/hizmetler/pmk/page.tsx"
      provides: "PMK service page metadata"
      contains: "generateMetadata"
    - path: "src/app/hizmetler/web-gelistirme/page.tsx"
      provides: "Web Geliştirme service page metadata"
      contains: "generateMetadata"
    - path: "src/app/hizmetler/reklam/page.tsx"
      provides: "Reklam service page metadata"
      contains: "generateMetadata"
    - path: "src/app/hizmetler/otomasyon/page.tsx"
      provides: "Otomasyon service page metadata"
      contains: "generateMetadata"
  key_links:
    - from: "src/app/page.tsx"
      to: "src/lib/metadata/index.ts"
      via: "import HOMEPAGE_METADATA"
      pattern: "import.*HOMEPAGE_METADATA"
    - from: "src/app/hizmetler/*/page.tsx"
      to: "src/lib/metadata/index.ts"
      via: "import SERVICE_METADATA"
      pattern: "import.*SERVICE_METADATA"
---

<objective>
Add page-level SEO metadata to all pages using generateMetadata function with centralized metadata constants.

Purpose: Enable search engines to properly index each page with relevant titles, descriptions, and social sharing tags.
Output: All 7 pages (homepage + 6 services) with generateMetadata functions using centralized metadata constants
</objective>

<execution_context>
@C:\Users\Omer\.claude\get-shit-done\workflows\execute-plan.md
@C:\Users\Omer\.claude\templates\summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@.planning/phases/04-seo-&-performans-optimizasyonu/04-CONTEXT.md
@.planning/phases/04-seo-&-performans-optimizasyonu/04-RESEARCH.md
@.planning/phases/04-seo-&-performans-optimizasyonu/04-01-SUMMARY.md

@src/app/page.tsx
@src/app/hizmetler/google-isletme/page.tsx
@src/lib/metadata/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add generateMetadata to homepage</name>
  <files>src/app/page.tsx</files>
  <action>
    Update src/app/page.tsx:

    1. Add at top (after imports, before component):
       ```typescript
       import { Metadata } from 'next'
       import { HOMEPAGE_METADATA } from '@/lib/metadata'

       export async function generateMetadata(): Promise<Metadata> {
         const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || 'https://mokadijital.com'

         return {
           title: HOMEPAGE_METADATA.title,
           description: HOMEPAGE_METADATA.description,
           keywords: HOMEPAGE_METADATA.keywords,
           openGraph: {
             title: HOMEPAGE_METADATA.title,
             description: HOMEPAGE_METADATA.description,
             url: baseUrl,
             siteName: 'Moka Dijital',
             locale: 'tr_TR',
             type: 'website',
             images: [
               {
                 url: HOMEPAGE_METADATA.ogImage,
                 width: 1200,
                 height: 630,
                 alt: 'Moka Dijital - Dijital Pazarlama Ajansı',
               },
             ],
           },
           alternates: {
             canonical: baseUrl,
           },
         }
       }
       ```

    2. Remove 'use client' directive since generateMetadata requires server component
    3. Move useState and ContactModal state to a separate client component (create src/components/home/HomePageClient.tsx)

    For HomePageClient.tsx:
    - Copy existing HomePage component content
    - Keep 'use client' directive
    - Keep useState and ContactModal logic
    - Export as default

    In page.tsx:
    - Import HomePageClient from '@/components/home/HomePageClient'
    - Export as default (no state, just renders HomePageClient)

    CRITICAL: 'use client' and generateMetadata cannot coexist in same file. Must separate.
  </action>
  <verify>
    grep -q "export async function generateMetadata" src/app/page.tsx && grep -q "HomePageClient" src/app/page.tsx && echo "Homepage metadata added"
  </verify>
  <done>src/app/page.tsx has generateMetadata using HOMEPAGE_METADATA and renders HomePageClient</done>
</task>

<task type="auto">
  <name>Task 2: Add generateMetadata to Google İşletme page</name>
  <files>src/app/hizmetler/google-isletme/page.tsx</files>
  <action>
    Update src/app/hizmetler/google-isletme/page.tsx:

    1. Add at top (after imports):
       ```typescript
       import { Metadata } from 'next'
       import { SERVICE_METADATA } from '@/lib/metadata'

       export async function generateMetadata(): Promise<Metadata> {
         const metadata = SERVICE_METADATA['google-isletme']
         const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || 'https://mokadijital.com'
         const url = `${baseUrl}/hizmetler/google-isletme`

         return {
           title: metadata.title,
           description: metadata.description,
           keywords: metadata.keywords,
           openGraph: {
             title: metadata.title,
             description: metadata.description,
             url,
             siteName: 'Moka Dijital',
             locale: 'tr_TR',
             type: 'website',
             images: [{ url: metadata.ogImage, width: 1200, height: 630, alt: metadata.title }],
           },
           alternates: { canonical: url },
         }
       }
       ```

    2. Remove 'use client' directive
    3. Create GoogleIsletmePageClient.tsx in src/components/services/google-isletme/ with client component
    4. Import and render GoogleIsletmePageClient from page.tsx

    DO NOT change existing component logic, just separate client component.
  </action>
  <verify>
    grep -q "export async function generateMetadata" src/app/hizmetler/google-isletme/page.tsx && echo "Google İşletme metadata added"
  </verify>
  <done>src/app/hizmetler/google-isletme/page.tsx has generateMetadata using SERVICE_METADATA and renders client component</done>
</task>

<task type="auto">
  <name>Task 3: Add generateMetadata to SEO page</name>
  <files>src/app/hizmetler/seo/page.tsx</files>
  <action>
    Update src/app/hizmetler/seo/page.tsx:

    Follow same pattern as Google İşletme page:
    1. Add generateMetadata function using SERVICE_METADATA['seo']
    2. Remove 'use client' directive
    3. Create SeoPageClient.tsx in src/components/services/seo/
    4. Import and render SeoPageClient

    Use url: `${baseUrl}/hizmetler/seo`
  </action>
  <verify>
    grep -q "export async function generateMetadata" src/app/hizmetler/seo/page.tsx && echo "SEO page metadata added"
  </verify>
  <done>src/app/hizmetler/seo/page.tsx has generateMetadata using SERVICE_METADATA['seo']</done>
</task>

<task type="auto">
  <name>Task 4: Add generateMetadata to PMK page</name>
  <files>src/app/hizmetler/pmk/page.tsx</files>
  <action>
    Update src/app/hizmetler/pmk/page.tsx:

    Follow same pattern using SERVICE_METADATA['pmk']
    URL: `${baseUrl}/hizmetler/pmk`
    Create PmkPageClient.tsx in src/components/services/pmk/
  </action>
  <verify>
    grep -q "export async function generateMetadata" src/app/hizmetler/pmk/page.tsx && echo "PMK page metadata added"
  </verify>
  <done>src/app/hizmetler/pmk/page.tsx has generateMetadata using SERVICE_METADATA['pmk']</done>
</task>

<task type="auto">
  <name>Task 5: Add generateMetadata to Web Geliştirme page</name>
  <files>src/app/hizmetler/web-gelistirme/page.tsx</files>
  <action>
    Update src/app/hizmetler/web-gelistirme/page.tsx:

    Follow same pattern using SERVICE_METADATA['web-gelistirme']
    URL: `${baseUrl}/hizmetler/web-gelistirme`
    Create WebGelistirmePageClient.tsx in src/components/services/web-gelistirme/
  </action>
  <verify>
    grep -q "export async function generateMetadata" src/app/hizmetler/web-gelistirme/page.tsx && echo "Web Geliştirme page metadata added"
  </verify>
  <done>src/app/hizmetler/web-gelistirme/page.tsx has generateMetadata using SERVICE_METADATA['web-gelistirme']</done>
</task>

<task type="auto">
  <name>Task 6: Add generateMetadata to Reklam page</name>
  <files>src/app/hizmetler/reklam/page.tsx</files>
  <action>
    Update src/app/hizmetler/reklam/page.tsx:

    Follow same pattern using SERVICE_METADATA['reklam']
    URL: `${baseUrl}/hizmetler/reklam`
    Create ReklamPageClient.tsx in src/components/services/reklam/
  </action>
  <verify>
    grep -q "export async function generateMetadata" src/app/hizmetler/reklam/page.tsx && echo "Reklam page metadata added"
  </verify>
  <done>src/app/hizmetler/reklam/page.tsx has generateMetadata using SERVICE_METADATA['reklam']</done>
</task>

<task type="auto">
  <name>Task 7: Add generateMetadata to Otomasyon page</name>
  <files>src/app/hizmetler/otomasyon/page.tsx</files>
  <action>
    Update src/app/hizmetler/otomasyon/page.tsx:

    Follow same pattern using SERVICE_METADATA['otomasyon']
    URL: `${baseUrl}/hizmetler/otomasyon`
    Create OtomasyonPageClient.tsx in src/components/services/otomasyon/
  </action>
  <verify>
    grep -q "export async function generateMetadata" src/app/hizmetler/otomasyon/page.tsx && echo "Otomasyon page metadata added"
  </verify>
  <done>src/app/hizmetler/otomasyon/page.tsx has generateMetadata using SERVICE_METADATA['otomasyon']</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. Build project: `npm run build`
2. Check build output has no errors
3. Start dev server: `npm run dev`
4. For each page, check HTML source for meta tags:
   - View source: http://localhost:3000
   - Check for `<title>`, `<meta name="description">`, `<meta property="og:title">`, `<meta property="og:description">`
   - Verify titles match SERVICE_METADATA/HOMEPAGE_METADATA
   - Verify descriptions are 150-160 characters
5. Test all 7 pages (homepage + 6 services)
</verification>

<success_criteria>
- All 7 pages have generateMetadata functions
- All pages use centralized metadata constants from src/lib/metadata/index.ts
- All meta titles and descriptions are SEO-optimized (titles 60 chars, descriptions 150-160 chars)
- All pages have Open Graph tags for social sharing
- Client/server component separation maintains functionality (ContactModal still works)
</success_criteria>

<output>
After completion, create `.planning/phases/04-seo-&-performans-optimizasyonu/04-02-SUMMARY.md`
</output>
